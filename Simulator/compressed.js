!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(u){"use strict";function i(e,t){for(var s,i=e.split(";"),n=t.split(" "),h="",d=0,a=i.length;d<a;d++){s=!0;for(var o=0,c=n.length;o<c;o++)""!==i[d]&&-1===i[d].indexOf(n[o])||(s=!1);s&&(h+=i[d]+"; ")}return h}u.fn.bigSlide=function(e){var a=this,o=u.extend({menu:"#menu",push:".push",shrink:".shrink",hiddenThin:".hiddenThin",side:"left",menuWidth:"150px",semiOpenMenuWidth:"4em",speed:"300",state:"closed",activeBtn:"active",easyClose:!1,saveState:!1,semiOpenStatus:!1,semiOpenScreenWidth:480,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},e),t="transition -o-transition -ms-transition -moz-transitions webkit-transition "+o.side,s={menuCSSDictionary:t+" position top bottom height width",pushCSSDictionary:t,state:o.state},c={init:function(){r.init()},_destroy:function(){return r._destroy(),delete a.bigSlideAPI,a},changeState:function(){"closed"===s.state?s.state="open":s.state="closed"},setState:function(e){s.state=e},getState:function(){return s.state}},r={init:function(){this.$menu=u(o.menu),this.$push=u(o.push),this.$shrink=u(o.shrink),this.$hiddenThin=u(o.hiddenThin),this.width=o.menuWidth,this.semiOpenMenuWidth=o.semiOpenMenuWidth;var e={position:"fixed",top:"0",bottom:"0",height:"100%"},t={"-webkit-transition":o.side+" "+o.speed+"ms ease","-moz-transition":o.side+" "+o.speed+"ms ease","-ms-transition":o.side+" "+o.speed+"ms ease","-o-transition":o.side+" "+o.speed+"ms ease",transition:o.side+" "+o.speed+"ms ease"},s={"-webkit-transition":"all "+o.speed+"ms ease","-moz-transition":"all "+o.speed+"ms ease","-ms-transition":"all "+o.speed+"ms ease","-o-transition":"all "+o.speed+"ms ease",transition:"all "+o.speed+"ms ease"},i=!1;e[o.side]="-"+o.menuWidth,e.width=o.menuWidth;var n="closed";o.saveState&&(n=localStorage.getItem("bigSlide-savedState"))||(n=o.state),c.setState(n),this.$menu.css(e);var h=u(window).width();"closed"===n?o.semiOpenStatus&&h>o.semiOpenScreenWidth?(this.$hiddenThin.hide(),this.$menu.css(o.side,"0"),this.$menu.css("width",this.semiOpenMenuWidth),this.$push.css(o.side,this.semiOpenMenuWidth),this.$shrink.css({width:"calc(100% - "+this.semiOpenMenuWidth+")"}),this.$menu.addClass("semiOpen")):this.$push.css(o.side,"0"):"open"===n&&(this.$menu.css(o.side,"0"),this.$push.css(o.side,this.width),this.$shrink.css({width:"calc(100% - "+this.width+")"}),a.addClass(o.activeBtn));var d=this;a.on("click.bigSlide touchstart.bigSlide",function(e){i||(d.$menu.css(t),d.$push.css(t),d.$shrink.css(s),i=!0),e.preventDefault(),"open"===c.getState()?r.toggleClose():r.toggleOpen()}),o.semiOpenStatus&&u(window).resize(function(){u(window).width()>o.semiOpenScreenWidth?"closed"===c.getState()&&(d.$hiddenThin.hide(),d.$menu.css({width:d.semiOpenMenuWidth}),d.$menu.css(o.side,"0"),d.$push.css(o.side,d.semiOpenMenuWidth),d.$shrink.css({width:"calc(100% - "+d.semiOpenMenuWidth+")"}),d.$menu.addClass("semiOpen")):(d.$menu.removeClass("semiOpen"),"closed"===c.getState()&&(d.$menu.css(o.side,"-"+d.width).css({width:d.width}),d.$push.css(o.side,"0"),d.$shrink.css("width","100%"),d.$hiddenThin.show()))}),o.easyClose&&u(document).on("click.bigSlide",function(e){u(e.target).parents().addBack().is(a)||u(e.target).closest(o.menu).length||"open"!==c.getState()||r.toggleClose()})},_destroy:function(){this.$menu.each(function(){var e=u(this);e.attr("style",i(e.attr("style"),s.menuCSSDictionary).trim())}),this.$push.each(function(){var e=u(this);e.attr("style",i(e.attr("style"),s.pushCSSDictionary).trim())}),this.$shrink.each(function(){var e=u(this);e.attr("style",i(e.attr("style"),s.pushCSSDictionary).trim())}),a.removeClass(o.activeBtn).off("click.bigSlide touchstart.bigSlide"),this.$menu=null,this.$push=null,this.$shrink=null,localStorage.removeItem("bigSlide-savedState")},toggleOpen:function(){o.beforeOpen(),c.changeState(),r.applyOpenStyles(),a.addClass(o.activeBtn),o.afterOpen(),o.saveState&&localStorage.setItem("bigSlide-savedState","open")},toggleClose:function(){o.beforeClose(),c.changeState(),r.applyClosedStyles(),a.removeClass(o.activeBtn),o.afterClose(),o.saveState&&localStorage.setItem("bigSlide-savedState","closed")},applyOpenStyles:function(){var e=u(window).width();o.semiOpenStatus&&e>o.semiOpenScreenWidth?(this.$hiddenThin.show(),this.$menu.animate({width:this.width},{duration:Math.abs(o.speed-100),easing:"linear"}),this.$push.css(o.side,this.width),this.$shrink.css({width:"calc(100% - "+this.width+")"}),this.$menu.removeClass("semiOpen")):(this.$menu.css(o.side,"0"),this.$push.css(o.side,this.width),this.$shrink.css({width:"calc(100% - "+this.width+")"}))},applyClosedStyles:function(){var e=u(window).width();o.semiOpenStatus&&e>o.semiOpenScreenWidth?(this.$hiddenThin.hide(),this.$menu.animate({width:this.semiOpenMenuWidth},{duration:Math.abs(o.speed-100),easing:"linear"}),this.$push.css(o.side,this.semiOpenMenuWidth),this.$shrink.css({width:"calc(100% - "+this.semiOpenMenuWidth+")"}),this.$menu.addClass("semiOpen")):(this.$menu.css(o.side,"-"+this.width),this.$push.css(o.side,"0"),this.$shrink.css("width","100%"))}};return c.init(),this.bigSlideAPI={settings:o,model:s,controller:c,view:r,destroy:c._destroy},this}});