"use strict";function MyHandler(t){if(!(this instanceof MyHandler))return new MyHandler(t);var e=t,n=new e.DevExpress.EndpointSelector(e.ComApp.config.endpoints).urlFor("srcv"),i=e.navigator.userAgent,r=$uuid,a={},s=[];i=i.replace(" .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.2;",""),$.ajax({retryLimit:0,tryCount:3,url:n+"/634444437875156250031580?"+$.param({dxv:"Menu",svrcode:"appstate",uuid:r,clockpulse:i}),type:"POST",dataType:"html",cache:!1,timeout:7e3,data:$.param({userstate:e.localDB.exe("get","userstate",null,0),viewui:"Home",locate:_$locate,tmpver:e.localDB.exe("get","tmpver",null,0)}),success:function(t,n,i){if(""!=a){var a=jQuery.parseJSON(t);appStarting("0",a.dxtmp),memorybag[initview]=a.mnudata,e.hwndDevice=r,e.__$ncc=a.ncc,setTimeout(function(){var t=$("#loadcount");t.next().css("background-image","url(/images/hourgrass.gif)"),t.remove(),o.start_noty_timer()},200)}else{this.tryCount++;var s=this;if(this.tryCount<=this.retryLimit)return void $.ajax(s);chochut(-1,function(){screenloader_frm.css("display",""),$.ajax(s)})}},error:function(t,e,n){var i=this;if("451"==t.status)banned(t.responseText,function(){$.ajax(i)});else if("500"==t.status)scrReleased(),masklockscreen.text(t.statusText),masklockscreen.css("display","");else{if("timeout"==e)return this.tryCount++,this.tryCount<=this.retryLimit?void $.ajax(i):void 0;chochut(-1,function(){screenloader_frm.css("display",""),$.ajax(i)})}}}),this.paramChannel=function(t,e){switch(t){case"timestampAPI":!function(t){"start"==t?o.get_noty():o.stop_noty_timer()}(e)}};var o=this,c=null;return this.start_noty_timer=function(){c=setTimeout(function(){1,o.noty_timer_callback()},2e4)},this.stop_noty_timer=function(){clearTimeout(c)},this.noty_timer_callback=function(){o.get_noty()},this.get_noty=function(t){o.stop_noty_timer(),_$q.add(function(){var n={},c={},l=!1;for(var u in eventCallbacks)eventCallbacks.hasOwnProperty(u)&&0==u.indexOf("$attach_")&&"1"==eventCallbacks[u].act&&(n[u]=eventCallbacks[u].log,l=!0);s=[],$.each(a,function(t,e){l=!0,n[t]=e,s.push(t),delete a[t]}),l&&(c.getmore=n),_$a.api("POST","634374721143258750061757?uuid="+r+"&clockpulse="+i,c,function(i){_$q.next(!1),i.ReScript&&e.eval(i.ReScript),i.rstmore&&$.each(n,function(t,e){if(i.rstmore.hasOwnProperty(t)){var n=i.rstmore[t];-1==$.inArray(t,s)?eventCallbacks[t].cb(null,n):commnunicateTrigger(t,"1",n)}}),t&&t(),o.start_noty_timer()},function(e){_$q.next(!1),t&&t(),DevExpress.ui.notify("Error: '"+e,"error",5e3),o.start_noty_timer()})})},this.bind=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].split("_"),r={cb:e,act:"1",log:{}},a=i[0];if("$attach"==i[0]&&(r.act=i[2],a=i[0]+"_"+i[1]),eventCallbacks[a]=r,memorybag.hasOwnProperty(a)){var s=memorybag[a];delete memorybag[a],"1"==r.act&&r.cb(null,s)}}},this.trigger=function(t,e,n){var i=eventCallbacks[t];i&&"1"==i.act&&i.cb(e,n)},{paramChannel:this.paramChannel,get_noty:this.get_noty,start_noty_timer:this.start_noty_timer,stop_noty_timer:this.stop_noty_timer,bind:this.bind,trigger:this.trigger,CommChannel:function(t,e,n){var i={status:"0"};try{$.each(e,function(t,e){"RMV"==e.init?delete a[t]:a[t]=e}),i.status="1"}catch(t){}n(i)}}}var _$hieu,$cartTMP,screenloader_frm=$(".screenloader_frm"),masklockscreen=$("#masklockscreen"),pigActionSheet=$("#action-sheet");function ImgBase64(t,e){var n=new Image;n.onload=function(){var n=document.createElement("canvas");n.width=this.naturalWidth,n.height=this.naturalHeight,n.getContext("2d").drawImage(this,0,0),e(n.toDataURL("image/png"),t.substr(t.lastIndexOf("/")+1))},n.setAttribute("crossOrigin","anonymous"),n.src=t}var jscss_addin=$("#jscss_addin")[0],filesadded="",jsLoader=function(){};function loadjscssfile(t,e){if("js"==e)(n=document.createElement("script")).setAttribute("type","text/javascript"),n.setAttribute("src",t);else if("css"==e){var n;(n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t)}void 0!==n&&jscss_addin.appendChild(n)}function checkloadjscssfile(t,e){-1==filesadded.indexOf("["+t+"]")&&(loadjscssfile(t,e),filesadded+="["+t+"]")}function removejscssfile(t,e){for(var n=0,i="js"==e?"script":"css"==e?"link":"none",r="js"==e?"src":"css"==e?"href":"none",a=document.getElementsByTagName(i),s=a.length;s>=0;s--)a[s]&&null!=a[s].getAttribute(r)&&-1!=a[s].getAttribute(r).indexOf(t)&&(a[s].parentNode.removeChild(a[s]),n+=1);n>0&&alert("Removed "+n+" instances of "+t)}function createjscssfile(t,e){if("js"==e){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t)}else"css"==e&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t));return n}function replacejscssfile(t,e,n){for(var i=0,r="js"==n?"script":"css"==n?"link":"none",a="js"==n?"src":"css"==n?"href":"none",s=document.getElementsByTagName(r),o=s.length;o>=0;o--)if(s[o]&&null!=s[o].getAttribute(a)&&-1!=s[o].getAttribute(a).indexOf(t)){var c=createjscssfile(e,n);s[o].parentNode.replaceChild(c,s[o]),i+=1}i>0&&alert("Replaced "+i+" instances of "+t+" with "+e)}function get_query(t){for(var e=t.substring(t.indexOf("?")+1).split("&"),n=0,i={};n<e.length;n++)e[n]=e[n].split("="),i[e[n][0]]=decodeURIComponent(e[n][1]);return i}function logoutmenu(t,e){}function _virtualKeyboard(t,e,n){"1"==mobileClient&&(e&&virtualKeyboardDetector[t]("virtualKeyboardVisible",e),n&&virtualKeyboardDetector[t]("virtualKeyboardHidden",n))}function funActionSheet(t){var e=$.extend(!0,{},{showTitle:!1,showCancelButton:!1,mode:"init"},t);pigActionSheet.dxActionSheet(e).dxActionSheet("instance")}jsLoader.prototype={require:function(t,e){this.loadCount=0,this.totalRequired=t.length,this.callback=e;for(var n=0;n<t.length;n++)this.writeScript(t[n])},loaded:function(t){this.loadCount++,this.loadCount==this.totalRequired&&"function"==typeof this.callback&&this.callback.call()},writeScript:function(t){if(-1==filesadded.indexOf("["+t+"]")){var e=this,n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.addEventListener("load",function(t){e.loaded(t)},!1),jscss_addin.appendChild(n),filesadded+="["+t+"]"}else this.loaded()}},$(document).ready(function(){"1"==mobileClient&&checkloadjscssfile(gitpath+"js/virtualKeyboardDetector.js","js"),$("body").on("keypress","input[type=number][maxlength]",function(t){var e=t.keyCode||t.charCode,n=String.fromCharCode(t.which),i=($(this).val(),$(this).attr("maxlength"),new RegExp("^[0-9]+$"));return 8==e||46==e||13==e||37==e||39==e||9==e||(!!i.test(n)||(t.preventDefault(),!1))}),$("body").on("paste","input[type=number][maxlength]",function(t){for(var e=$(this),n=new RegExp("^[0-9]+$"),i=e.attr("maxlength"),r=$isIE?window.clipboardData.getData("text"):t.originalEvent.clipboardData.getData("text/plain"),a=e.val(),s="",o=a+r,c=0;c<o.length;c++)s.length<i&&n.test(o[c])&&(s+=o[c]);setTimeout(function(){e.val("").val(s)},100)}),$.fn.autoSizr=function(){var t,e,n,i,r;if(!((e=$(this)).length<0)){for(r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(function(t){var e,n;for(e=function(){var e;return e=parseInt($(t).css("font-size").slice(0,-2))-1+"px",$(t).css("font-size",e)},n=[];t.scrollWidth>t.offsetWidth;)n.push(e());return n}(t));return $(this)}}});var clickDelay,clickPrevent="",clickLocked=function(t){clickPrevent="1";var e=1e3;clearTimeout(clickDelay),t&&(e=t),clickDelay=setTimeout(function(){clickPrevent=""},e)};